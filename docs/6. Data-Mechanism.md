# 数据机理双驱动的方法

## 一、数据机理双驱动建模方法

### 1.1 用模型驱动去指导数据驱动

核心思想：

- 在模型的指导下，进行有方向性的训练，通过模型确定数据下降的方向。构建一个贝叶斯的MVP模型，知道从哪个方向上升

- 在模型启发下，指导网络数据合理的梯度下降方向，对网络参数进行训练



### 1.2 用数据驱动优化或者拟合模型驱动

核心思想：从网络结构本身层次的改变上，它的出发点是改建网络结构，要跟模型有对应关系。**构建网络结构，与模型求解算法一致**

![](pic/data-mechanism%20model.png)

![](pic/data-mechanism%202.png)

优点：

- 一方面知道网络该怎么构造，
- 另一方面把优化模型里面参数嵌入到网络里面进行端到端的学习


> **例子**

- 建立变换器的机理模型
  - 确定机理模型
  - 不确定机理模型：引入修正系数
  
- 利用数据驱动，通过ANN确定转换器机理模型

- 数据-机理双驱动，确定修正系数的最优值
  - 通过机理模型可以确定修正系数的范围
  - 使用MSE作为评价指标，通过ANN确定最优值（选取最小MSE对应的修正系数）
  

### 1.3 用强大的参数化网络去倒推真实的机理

通过对参数化网络进行数据学习，获得共性推断模型


## 二、热舒适物理模型

人体储热量`S`

$S = M - E + R + C - W$

- S：人体加热或冷却速度
- M：人体代谢率
- E：蒸发热损失
- R：辐射热获取（+）或损失（-）
- C：对流热量获取（+）或损失（-）
- W：人体做功

Gagge俩节点模型中对人体储热的描述：

$S = M[1-0.0023(44-\phi_a*P_a)]-2.2h_c(0.06+0.94w_{rsw})*(P_{sk}-\phi_a * P_a)F_{pcl}-(h_r + h_c)(T_{sk}-T_a)F_{cl}$

- M：为代谢率
- $\phi_a$：相对湿度，小数
- $P_a$：空气温度$T_a$下的饱和蒸汽压
- $T_a$: 空气温度
- $h_c$：对流换热系数，单位$W/m^2℃$
- $w_{rsw}$：皮肤湿润度
- $P_sk$：皮肤温度$T_{sk}$下的饱和蒸汽压
- $F_{pcl}$：服装渗透因子，单位$W/m^2℃$
- $F_{cl}$：服装热效率因子

人体散热速率与热舒适的映射：

$PMV = [0.303*e^{-0.036* M} + 0.028]*S$

上述公式中参数可以分为三类：

- 环境参数：空气温度、风速、相对湿度、蒸汽压
- 可计算的个人参数：皮肤湿润度$w_{rsw}$、服装热效率因子$F_{cl}$、渗透效率因子$F_{pcl}$、对流换热系数$h_c$、辐射换热系数$h_r$
- 不可计算的个人参数，包括皮肤温度$T_{sk}$、代谢率 M。


环境参数可以由环境传感器测量

可计算的个人参数:皮肤湿润度$w_{rsw}$、服装热效率因子$F_{cl}$、渗透效率因子$F_{pcl}$、对流换热系数$h_c$、辐射换热系数$h_r$,  可以**由环境参数和不可计算的个人参数**推导

$F_{cl} = 1/(1 + (h_r + h_c)I_{cl})$

$F_{pcl} = 1/(1 + 0.923h_cI_{cl})$

$h_c = max(2.38|T_{cl} - T_a|^{0.25},12.1\sqrt{V_a})$

$h_r = 4\epsilon *\sigma(A_r/A_D)[(T_{cl} + T_r)/2]^3$，坐立状态下$A_r/A_d = 0.7$

$T_{cl} = 35.7 - 0.028M - I_{cl}F_{cl}{3.96 * 10^{-8}[(T_{cl} + 273)^4] + h_c(T_{cl}-T_a)}$

$w_{rsw} = (P_d-P_a)/(P_{sk} - P_a)$

$T_d = T_a(1-R_w(T_a + 273.15)ln(\phi_a)/L)^{-1}$

$log_{10}P = 8.07131 - 1730.63/(233.426 + T)$


- $I_{cl}$：为服装隔热，单位$m^2℃/W$
- $T_{cl}$: 服装表面温度，单位℃
- $V_a$: 空气流速，单位m/s
- $A_d$: Dubios体表面积
- $A_r$: 人体有效辐射面积，坐立状态下
- $T_r$：平均辐射温度，单位为摄氏度
- $\sigma$：斯特凡-玻尔兹曼常数,Stefan–Boltzmann constant
- $\epsilon$：人体辐射率，可合理假设为0.95
- $P_d$:露点温度$T_d$下的饱和蒸气压
- $R_w$：水蒸汽的气体常数
- $L$：为蒸发焓，在低层大气压中认为为常数
- 特定温度下的饱和蒸汽压可以根据蒸汽压与温度的半经验相关性推导出来，因此参数$P_{sk}$、$P_a$和$P_d$可以由温度$T_{sk}$,$T_a$和$T_d$

